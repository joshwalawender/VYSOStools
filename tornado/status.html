
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
    <title>VYSOS Status</title>
    <meta http-equiv="content-type"
    content="text/html; charset=ISO-8859-1">

    <style>
        table
        {
        border-collapse:collapse;
        margin-left: auto;
        margin-right: auto;
        }
        table,th,td
        {
        border:1px solid black;
        vertical-align: top;
        text-align: center; 
        padding-top: 5px;
        padding-right: 5px;
        padding-bottom: 5px;
        padding-left: 5px;
        }
    </style>

</head>

<body>

<table>
<!-- ###################################### -->
<!-- Status Header -->
<!-- ###################################### -->
<tr>
    <td width="210px" style="text-align: left;">
        {{ nowut.strftime('%Y/%m/%d %H:%M:%S UT') }}
    </td>
    <td width="210px" style="text-align: left;">
        {{ now.strftime('%Y/%m/%d %H:%M:%S HST') }}
    </td>
    <td width="210px" style="text-align: left;">
    </td>
    <td width="210px" style="text-align: left;">
        {% if 'Drobo' in disks.keys() %}
            {% if disks['Drobo'][1] < 300 %}
                <font color="red"> 
            {% else %}
                <font color="black"> 
            {% end %}
            Drobo: {{ '{:.0f}GB free ({:.0f}% full)'.format(disks['Drobo'][1], disks['Drobo'][2]) }}
        {% end %}
    </td>
    <td width="210px" style="text-align: left;">
        {% if 'USB Drive B' in disks.keys() %}
            {% if disks['USB Drive B'][1] < 40 %}
                <font color="red"> 
            {% else %}
                <font color="black"> 
            {% end %}
            USB(B): {{ '{:.0f}GB free ({:.0f}% full)'.format(disks['USB Drive B'][1], disks['USB Drive B'][2]) }}</font>
        {% elif 'USB Drive C' in disks.keys() %}
            {% if disks['USB Drive C'][1] < 40 %}
                <font color="red"> 
            {% else %}
                <font color="black"> 
            {% end %}
            USB(C): {{ '{:.0f}GB free ({:.0f}% full)'.format(disks['USB Drive C'][1], disks['USB Drive C'][2]) }}</font>
        {% end %}
    </td>
</tr>
<tr>
    <td style="text-align: left;">
        {{ 'It is currently {} (Sun alt = {:.0f})'.format(sun['now'], sun['alt']) }}<br>
    </td>
    <td colspan=2 style="text-align: left;">
        {% if sun['rise'] < sun['set'] %}
            {{ 'Next sunrise is at {}'.format(sun['rise'].strftime('%Y/%m/%d %H:%M:%S UT')) }}
        {% else %}
            {{ 'Next sunset is at {}'.format(sun['set'].strftime('%Y/%m/%d %H:%M:%S UT')) }}
        {% end %} 
    </td>
    <td style="text-align: left;">
        {% if 'macOS' in disks.keys() %}
            {% if disks['macOS'][1] < 40 %}
                <font color="red"> 
            {% else %}
                <font color="black"> 
            {% end %}
            macOS: {{ '{:.0f}GB free ({:.0f}% full)'.format(disks['macOS'][1], disks['macOS'][2]) }}</font>
        {% end %}
    </td>
    <td style="text-align: left;">
    </td>
</tr>
<tr>
    <td style="text-align: left;">
        {{ 'A {:.0f}% illuminated moon is {}'.format(moon['phase'], moon['now']) }}
    </td>
    <td colspan=2 style="text-align: left;">
        {% if sun['rise'] > sun['set'] %}
            {{ 'Next sunrise is at {}'.format(sun['rise'].strftime('%Y/%m/%d %H:%M:%S UT')) }}
        {% else %}
            {{ 'Next sunset is at {}'.format(sun['set'].strftime('%Y/%m/%d %H:%M:%S UT')) }}
        {% end %} 
    </td>
    <td style="text-align: left;">
        {% if 'Vega' in disks.keys() %}
            {% if disks['Vega'][1] < 40 %}
                <font color="red"> 
            {% else %}
                <font color="black"> 
            {% end %}
            Vega: {{ '{:.0f}GB free ({:.0f}% full)'.format(disks['Vega'][1], disks['Vega'][2]) }}
        {% end %}
    </td>
    <td style="text-align: left;">
        {% if 'Black' in disks.keys() %}
            {% if disks['Black'][1] < 40 %}
                <font color="red"> 
            {% else %}
                <font color="black"> 
            {% end %}
            Black: {{ '{:.0f}GB free ({:.0f}% full)'.format(disks['Black'][1], disks['Black'][2]) }}</font>
        {% end %}
    </td>
</tr>
<!-- ###################################### -->
<!-- Weather -->
<!-- ###################################### -->
<tr>
    <th colspan=5><br><br>Weather</th>
</tr>
<tr>
    <td><u>Boltwood Data</u></td>
    <td colspan=2><u>Weather Plot</u></td>
    <td colspan=2><u>Atlas All Sky Image (Color)</u></td>
</tr>
<tr>
    <td>
        <table style="border:0px; border-style:none;">
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Ambient Temp</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if 'boltwood ambient temp' in v5data.keys() %} {{ '{:.1f} {}'.format(v5data['boltwood ambient temp'], v5data['boltwood temp units']) }} {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Sky Temp</td>
            <td style="border:0px; border-style:none; text-align: left;" colspan=2>
                {% if 'boltwood sky temp' in v5data.keys() %} {{ '{:.1f} {}'.format(v5data['boltwood sky temp'], v5data['boltwood temp units']) }} {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Wind Speed</td>
            <td style="border:0px; border-style:none; text-align: left;" colspan=2>
                {% if 'boltwood wind speed' in v5data.keys() %} {{ '{:.1f} {}'.format(v5data['boltwood wind speed'], v5data['boltwood wind units']) }} {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Humidity</td>
            <td style="border:0px; border-style:none; text-align: left;" colspan=2>
                {% if 'boltwood humidity' in v5data.keys() %} {{ '{:.1f} %'.format(v5data['boltwood humidity']) }} {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Rain Status</td>
            <td style="border:0px; border-style:none; text-align: left;" colspan=2>
                {% if 'boltwood rain status string' in v5data.keys() %}
                    <font color="{{ '{}'.format(v5data['boltwood rain status color']) }}">
                    {{ '{}'.format(v5data['boltwood rain status string']) }}
                    </font>
                {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Wet Status</td>
            <td style="border:0px; border-style:none; text-align: left;" colspan=2>
                {% if 'boltwood wet status string' in v5data.keys() %}
                    <font color="{{ '{}'.format(v5data['boltwood wet status color']) }}">
                    {{ '{}'.format(v5data['boltwood wet status string']) }}
                    </font>
                {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Cloud Condition</td>
            <td style="border:0px; border-style:none; text-align: left;" colspan=2>
                {% if 'boltwood cloud condition string' in v5data.keys() %}
                    <font color="{{ '{}'.format(v5data['boltwood cloud color']) }}">
                    {{ '{}'.format(v5data['boltwood cloud condition string']) }}
                    </font>
                {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Wind Condition</td>
            <td style="border:0px; border-style:none; text-align: left;" colspan=2>
                {% if 'boltwood wind condition string' in v5data.keys() %}
                    <font color="{{ '{}'.format(v5data['boltwood wind color']) }}">
                    {{ '{}'.format(v5data['boltwood wind condition string']) }}
                    </font>
                {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Rain Condition</td>
            <td style="border:0px; border-style:none; text-align: left;" colspan=2>
                {% if 'boltwood rain condition string' in v5data.keys() %}
                    <font color="{{ '{}'.format(v5data['boltwood rain color']) }}">
                    {{ '{}'.format(v5data['boltwood rain condition string']) }}
                    </font>
                {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Day Condition</td>
            <td style="border:0px; border-style:none; text-align: left;" colspan=2>
                {% if 'boltwood day condition string' in v5data.keys() %}
                    <font color="{{ '{}'.format(v5data['boltwood day color']) }}">
                    {{ '{}'.format(v5data['boltwood day condition string']) }}
                    </font>
                {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Roof Close</td>
            <td style="border:0px; border-style:none; text-align: left;" colspan=2>
                {% if 'boltwood roof close string' in v5data.keys() %}
                    <font color="{{ '{}'.format(v5data['boltwood roof close color']) }}">
                    {{ '{}'.format(v5data['boltwood roof close string']) }}
                    </font>
                {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Clarity Data Age</td>
            <td style="border:0px; border-style:none; text-align: left;" colspan=2>
                <font color="{{ '{}'.format(v5clarity_color) }}">
                {% if v5clarity_age < 2*60 %}
                    {{ '{:.1f} min'.format(v5clarity_age) }}
                {% elif v5clarity_age < 2*24*60 %}
                    {{ '{:.1f} hr'.format(v5clarity_age/60.) }}
                {% else %}
                    {{ '{:.1f} days'.format(v5clarity_age/60./24.) }}
                {% end %}
                </font>
            </td>
        </tr>
        </table>
    </td>
    <td colspan=2 style="vertical-align: middle;">
        <a href="../static/nights/recent_V5.png">
            <img width=400 src="../static/nights/recent_V5.png">
        </a><br>
        <a href="../static/Weather_VYSOS5.gif"><img width=400 src="../static/Weather_VYSOS5.gif"></a>
    </td>
    <td colspan=2 style="vertical-align: middle;">
        <table style="border:0px; border-style: none;">
            <tr style="border:0px; border-style: none;">
                <td style="border:0px; border-style: none; vertical-align: middle;">E</td>
                <td style="border:0px; border-style: none;">
                    N<br>
                    <a href="http://www.fallingstar.com/weather/mlo/">
                        <img width=375 src="http://www.fallingstar.com/weather/mlo/latest_bw400.jpg">
                    </a><br>
                    S
                </td>
                <td style="border:0px; border-style: none; vertical-align: middle;">W</td>
            </tr>
        </table>
    </td>
</tr>

<!-- ###################################### -->
<!-- Live Images -->
<!-- ###################################### -->

<tr>
    <td colspan=5><u>Live Images</u></td>
</tr>
<tr>
    <td colspan=5>
        <object data=http://166.122.71.162:8080/html/live.htm width="1100" height="520">
        <embed   src=http://166.122.71.162:8080/html/live.htm width="1100" height="520"> </embed>
        Error: Embedded data could not be displayed. </object>
    </td>
</tr>

<!-- ###################################### -->
<!-- VYSOS-5 -->
<!-- ###################################### -->
<tr>
    <td colspan=2>VYSOS-5 Status</td>
    <td width="210px"></td>
    <td colspan=2>VYSOS-20 Status</td>
</tr>
<tr>
    <td colspan=2>
        <table style="border:0px; border-style:none;">
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">ACP Connected</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if 'ACP connected' in v5data.keys() %}
                    <font color="{{ '{}'.format(v5data['ACP connected color']) }}">
                    {{ '{}'.format(v5data['ACP connected string']) }}
                    </font>
                {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Status</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if 'ACP status string' in v5data.keys() %}
                    <font color="{{ '{}'.format(v5data['ACP status color']) }}">
                    {{ '{}'.format(v5data['ACP status string']) }}
                    </font>
                {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Alt</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if 'ACP alt' in v5data.keys() %} {{ '{:.1f}'.format(v5data['ACP alt']) }} {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Az</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if 'ACP az' in v5data.keys() %}  {{ '{:.1f}'.format(v5data['ACP az']) }} {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Target RA</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if len(v5coord.split(' ')) == 2 %} {{ v5coord.split(' ')[0] }} {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Target Dec</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if len(v5coord.split(' ')) == 2 %} {{ v5coord.split(' ')[1] }} {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">ACP Data Age</td>
            <td style="border:0px; border-style:none; text-align: left;">
                <font color="{{ '{}'.format(v5data_color) }}">
                {% if v5data_age < 2*60 %}
                    {{ '{:.1f} min'.format(v5data_age) }}
                {% elif v5data_age < 2*24*60 %}
                    {{ '{:.1f} hr'.format(v5data_age/60.) }}
                {% else %}
                    {{ '{:.1f} days'.format(v5data_age/60./24.) }}
                {% end %}
                </font>
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">            
            <td style="border:0px; border-style:none; text-align: center;" colspan=2><b>
              {{ files_string }}
            </b></td>
        </tr>
        <tr style="border:0px; border-style:none;">            
            <td style="border:0px; border-style:none; text-align: right;">N Images</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {{ '{:d}'.format(v5_nimages) }}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">N Flats</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {{ '{:d}'.format(v5_nflats) }}
            </td>
        </tr>

        <tr style="border:0px; border-style:none;">            
            <td style="border:0px; border-style:none; text-align: left;" colspan=2><b>
              IQMon Results
            </b></td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td colspan=2 style="border:0px; border-style:none; text-align: left;">
            <a href="{{ '/static/nights/{}_V5.png'.format(link_date_string) }}">
            Night Summary Plot for {{ link_date_string }}</a>
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td colspan=2 style="border:0px; border-style:none; text-align: left;">
            <a href="{{ '/V5/{}'.format(link_date_string) }}">
            Images from {{ link_date_string }}</a>
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td colspan=2 style="border:0px; border-style:none; text-align: left;">
            <a href="V5/">List of Nights</a>
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td colspan=2 style="border:0px; border-style:none; text-align: left;">
            <a href="V5/targets">List of Targets</a>
            </td>
        </tr>
        </table>
    </td>
    <td>
    </td>
    <td colspan=2>

        <table style="border:0px; border-style:none;">
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">ACP Connected</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if 'ACP connected' in v20data.keys() %}
                    <font color="{{ '{}'.format(v5data['ACP connected color']) }}">
                    {{ '{}'.format(v20data['ACP connected string']) }}
                    </font>
                {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Status</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if 'ACP status string' in v20data.keys() %}
                    <font color="{{ '{}'.format(v20data['ACP status color']) }}">
                    {{ '{}'.format(v20data['ACP status string']) }}
                    </font>
                {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Alt</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if 'ACP alt' in v20data.keys() %} {{ '{:.1f}'.format(v20data['ACP alt']) }} {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Az</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if 'ACP az' in v20data.keys() %}  {{ '{:.1f}'.format(v20data['ACP az']) }} {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Target RA</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if len(v20coord.split(' ')) == 2 %} {{ v20coord.split(' ')[0] }} {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">Target Dec</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {% if len(v20coord.split(' ')) == 2 %} {{ v20coord.split(' ')[1] }} {% end %}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">ACP Data Age</td>
            <td style="border:0px; border-style:none; text-align: left;">
                <font color="{{ '{}'.format(v20data_color) }}">
                {% if v20data_age < 2*60 %}
                    {{ '{:.1f} min'.format(v20data_age) }}
                {% elif v20data_age < 2*24*60 %}
                    {{ '{:.1f} hr'.format(v20data_age/60.) }}
                {% else %}
                    {{ '{:.1f} days'.format(v20data_age/60./24.) }}
                {% end %}
                </font>
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">            
            <td style="border:0px; border-style:none; text-align: center;" colspan=2><b>
              {{ files_string }}
            </b></td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">N Images</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {{ '{:d}'.format(v20_nimages) }}
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td style="border:0px; border-style:none; text-align: right;">N Flats</td>
            <td style="border:0px; border-style:none; text-align: left;">
                {{ '{:d}'.format(v20_nflats) }}
            </td>
        </tr>

        <tr style="border:0px; border-style:none;">            
            <td style="border:0px; border-style:none; text-align: left;" colspan=2><b>
              IQMon Results
            </b></td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td colspan=2 style="border:0px; border-style:none; text-align: left;">
            <a href="{{ '/static/nights/{}_V20.png'.format(link_date_string) }}">
            Night Summary Plot for {{ link_date_string }}</a>
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td colspan=2 style="border:0px; border-style:none; text-align: left;">
            <a href="{{ '/V20/{}'.format(link_date_string) }}">
            Images from {{ link_date_string }}</a>
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td colspan=2 style="border:0px; border-style:none; text-align: left;">
            <a href="V20/">List of Nights</a>
            </td>
        </tr>
        <tr style="border:0px; border-style:none;">
            <td colspan=2 style="border:0px; border-style:none; text-align: left;">
            <a href="V20/targets">List of Targets</a>
            </td>
        </tr>
        </table>


    </td>
</tr>






</table>

<br><br>

</body>
</html>
